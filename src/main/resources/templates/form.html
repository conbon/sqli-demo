<!DOCTYPE HTML>
<html xmlns:th="https://www.thymeleaf.org">
<head>
    <title>WANdisco Data Academy</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <style>
        .content {
            max-width: 500px;
            margin: auto;
        }
        .header {
            max-width: 700px;
            margin: auto;
            align-content: center;
        }
    </style>
</head>
<body>
<div class="header">
    <h1>I am a super believable form on a 'secure' website.</h1>
</div>
<div class="content">
    <form action="#" th:action="@{/user}" th:object="${user}" method="post">
        <p><input hidden type="text" th:field="*{id}" /></p>
        <p>First Name: <input type="text" th:field="*{firstName}" /></p>
        <p>What's your favourite colour? <input type="text" th:field="*{favouriteColour}" /></p>
        <p>What's your favourite animal? <input type="text" th:field="*{favouriteAnimal}" /></p>
        <p><input type="submit" value="Submit" /> <input type="reset" value="Reset" /></p>
    </form>
    <iframe src="https://giphy.com/embed/NSGs4EkWEyL9jua2f2" width="480" height="480" frameBorder="0" class="giphy-embed" allowFullScreen></iframe><p><a href="https://giphy.com/gifs/tiktok-NSGs4EkWEyL9jua2f2">via GIPHY</a></p>
</div>
<div id='metrics' style="visibility: hidden">
    <span>
        <p>Custom developer page metrics... PageLoad[435ms]</p>
    </span>
</div>
<script>
    var userInput = getQueryVariable('displayCustomMetrics');

    console.log("User Input: " + userInput);

    document.getElementById('metrics').style.visibility='' + userInput + '';

    function getQueryVariable(variable)
    {
        var query = window.location.search.substring(1);
        var vars = query.split("&");
        for (var i=0;i<vars.length;i++) {
            var pair = vars[i].split("=");
            if(pair[0] == variable){return pair[1];}
        }
        return(false);
    }
</script>
</body>
</html>